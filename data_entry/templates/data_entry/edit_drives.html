<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Trackside - Log Data</title>
	<link rel="stylesheet" href="{% static '/css/main.css' %}">
	<!-- Bootstrap CDN -->
	<!-- BS icons CDN -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
		crossorigin="anonymous"></script>
	<!-- end Bootstrap CDN -->
	<!-- <script src="{% static '/js/script.js' %}"></script> -->
	<style>
		input {
			border-radius: 25px;
		}
	</style>
	<script>
		function set_fields() {
			document.getElementById('date').value="{{entry.date}}";
			if ("{{entry.car_type}}" == "EV") {
				document.getElementById('car_type_ev').checked = true;
				document.getElementById('car_type_ice').checked = false;
			} else {
				document.getElementById('car_type_ev').checked = false;
				document.getElementById('car_type_ice').checked = true;
			}
			if ("{{entry.is_dyno}}".toLowerCase() == "true") {
				document.getElementById('is_dyno_true').checked = true;
				document.getElementById('is_dyno_false').checked = false;
			} else {
				document.getElementById('is_dyno_true').checked = false;
				document.getElementById('is_dyno_false').checked = true;
			}
			if ("{{entry.is_racespec}}".toLowerCase() == "true") {
				document.getElementById('is_racespec_true').checked = true;
				document.getElementById('is_racespec_false').checked = false;
			} else {
				document.getElementById('is_racespec_true').checked = false;
				document.getElementById('is_racespec_false').checked = true;
			}
			document.getElementById('driver').value = "{{entry.driver}}";
			document.getElementById('location').value = "{{entry.location}}";
			document.getElementById('drive_day_lead').value = "{{entry.drive_day_lead}}";
			// if (["Comp Spec Skidpad", "Acceleration", "Open Loop Autocross", "Close Loop Autocross"].includes("{{entry.track}}")) {
			// 	document.getElementById('track_select').value = "{{entry.track}}"
			// 	console.log("HERE")
			// 	console.log(document.getElementById('track_select').value)
			// } else {
			// 	document.getElementById('track_select').value = "other";
			// 	document.getElementById('track').value = "{{entry.track}}";
			// 	console.log("HERE insetad")
			// }
			document.getElementById('track').hidden = false;
			document.getElementById('track').value = "{{entry.track}}";
			document.getElementById('weather').value = "{{entry.weather}}";
			document.getElementById('air_temperature').value = "{{entry.air_temp}}";
			document.getElementById('track_temperature').value = "{{entry.track_temp}}";
			document.getElementById('air_temperature').value = "{{entry.air_temp}}";
			document.getElementById('tires').value = "{{entry.tires}}";
			document.getElementById('tire_serial_num').value = "{{entry.tire_serial_number}}";
			if ("{{entry.tire_condition}}".toLowerCase() == "Used Set") {
				document.getElementById('tire_condition_used').checked = true;
				document.getElementById('tire_conditio_new').checked = false;
			} else {
				document.getElementById('tire_condition_used').checked = false;
				document.getElementById('tire_condition_new').checked = true;
			}
			document.getElementById('engine').value = "{{entry.engine}}";
			document.getElementById('motor_num').value = "{{entry.motor_num}}";
			document.getElementById('comments').value = "{{entry.comments}}";

		}
	</script>
</head>

<body onload="set_fields()">
	<div class="header">
		<div class="row">
			<div class="col-md-4" align="left">
				<!-- <a href="{% url 'view_team' %}" class="logo"><i class="bi bi-people"></i></a> -->
				<a href="{% url 'view_data' %}" class="logo"><i class="bi bi-book"></i></a>
				<a href="{% url 'collectdata' %}" class="logo"><i class="bi bi-plus-lg"></i></a>
			</div>
			<div class="col-md-4" align="left">
				<h2 align="center" class="display-6">Edit Data</h2>
			</div>
		</div>
	</div>
	<div class="container">
		<div class="main">
			<div class="row">
			<div class="col-md-3"></div>
			<div class="col-md-6">
				<form action="{% url 'collectdata' %}" method="post">
					<br>
					{% csrf_token %}
					<div class="row">
						<!-- Date -->
						<div class="col-md-3">
							<label class="field" for="date">Date:</label>
						</div>
						<div class="col-md-9">
							<input class="form-control" type="date" id="date" name="date"
								min="2010-01-01" max="2030-12-31"><br>
						</div>
					</div><br>
					<div class="row">
						<!-- Car Type -->
						<div class="col-md-3">
							<label for="car_type" class="field">Car Type:</label><br>
						</div>
						<div class="col-md-9">
							<label for="car_type">EV</label>
							<input type="radio" class="form-check-input" name="car_type" value="EV" id="car_type_ev"><br>
							<label for="car_type">ICE</label>
							<input type="radio" class="form-check-input" name="car_type" value="ICE" id="car_type_ice"
								checked><br>
						</div>
					</div><br>
					
					<div class="row">
						<!-- Is Dyno -->
						<div class="col-md-3">
							<label for="is_dyno" class="field">Dyno:</label><br>
						</div>
						<div class="col-md-9">
							<label for="is_dyno">True</label>
							<input type="radio" class="form-check-input" name="is_dyno" value="true" id="is_dyno_true"
								required><br>
							<label for="is_racespec">False</label>
							<input type="radio" class="form-check-input" name="is_dyno" value="False" id="is_dyno_false"
								required checked><br>
						</div>
					</div><br>
					<div class="row">
						<!-- Is Racespec -->
						<div class="col-md-3">
							<label for="is_racespec" class="field">Racespec:</label><br>
						</div>
						<div class="col-md-3">
							<label for="is_racespec">True</label>
							<input type="radio" class="form-check-input" name="is_racespec" value="true" id="is_racespec_true"
								required><br>
							<label for="is_racespec">False</label>
							<input type="radio" class="form-check-input" name="is_racespec" value="False" id="is_racespec_false"
								required checked><br>
						</div>
					</div><br>
					<div class="row">
						<!-- Driver -->
						<div class="col-md-2">
							<label for="driver" class="field">Driver:</label>
						</div>
						<div class="col-md-10">
							<input type="text" class="form-control" id="driver" name="driver" placeholder="First Last"  required>
						</div>
					</div><br>
					<div class="row">
						<!-- Location  -->
						<div class="col-md-2">
							<label for="location" class="field">Location:</label>
						</div>
						<div class="col-md-10">
							<input type="text" class="form-control" placeholder="Enter other location name" name="location"
								id="location"` />
						</div>
					</div><br>
					<div class="row">
						<!-- Drive Day Leader -->
						<div class="col-md-3">
							<label for="drive_day_lead" class="field">Drive Day Lead:</label>
						</div>
						<div class="col-md-9">
							<input type="text" class="form-control" id="drive_day_lead" name="drive_day_lead"
								placeholder="First Last" required>
						</div>
					</div><br>
					<div class="row">
						<!-- Track -->
						<div class="col-md-2">
							<label for="track" class="field">Track:</label>
						</div>
						<div class="col-md-10">
							<input type="text" class="form-control" placeholder="Enter other track name" name="track" id="track"
								 />
						</div>
					</div><br>
					<div class="row">
						<!-- Weather -->
						<div class="col-md-2">
							<label for="weather" class="field">Weather:</label>
						</div>
						<div class="col-md-10">
							<input type="text" class="form-control" name="weather" id="weather" placeholder="Sunny, Windy, Rainy, Cloudy, Icy">
						</div>
					</div><br>
					<div class="row">
						<!-- Air Temperature -->
						<div class="col-md-3">
							<label for="air_temperature" class="field">Air Temperature:</label>
						</div>
						<div class="col-md-9">
							<input type="number" class="form-control" name="air_temp" id="air_temperature">
						</div>
					</div><br>
					<div class="row">
						<!-- Track Temperature -->
						<div class="col-md-3">
							<label for="track_temperature" class="field">Track Temperature:</label>
						</div>
						<div class="col-md-9">
							<input type="number" class="form-control" name="track_temp" id="track_temperature">
						</div>
					</div><br>
					<div class="row">
						<!-- Tires -->
						<div class="col-md-3">
							<label for="tires" class="field">Tires:</label>
						</div>
						<div class="col-md-9">
							<input type="text" class="form-control" placeholder="Enter other tire name" name="tires" id="tires"
								 />
							</div>
						</div><br>
					<div class="row">
						<div class="col-md-3">
							<label for="tire-serial-num" class="field">Tire Serial Number:</label>
						</div>
						<div class="col-md-9">
							<input type="text" class="form-control" name="tire_serial_number" id="tire_serial_num">
						</div>
					</div><br>
					<div class="row">
						<!-- Tire Condition -->
						<div class="col-md-3">
							<label for="tire_condition" class="field">Tire Condition:</label><br>
						</div>
						<div class="col-md-9">
							<label for="tire_condition_new">New Set</label>
							<input type="radio" class="form-check-input" name="tire_condition" value="New Set" id="tire_condition_new"><br>
							<label for="tire_condition_used">Used Set</label>
							<input type="radio" class="form-check-input" name="tire_condition" value="Used Set" id="tire_condition_used" checked><br>
						</div>
					</div><br>
					<div class="row">
						<!-- Engine -->
						<div class="col-md-3">
							<label for="engine" class="field">Engine:</label>
						</div>
						<div class="col-md-9">
							<input type="text" class="form-control" placeholder="Enter other engine name" name="engine" id="engine"
								 />
						</div>
					</div><br>
					<div class="row">
						<!-- Motor num -->
						<div class="col-md-3">
							<label for="motor_num" class="field">Motor Number:</label>
						</div>
						<div class="col-md-9">
							<input type="text" class="form-control" name="motor_num" id="motor_num">
						</div>
					</div><br>
					<div class="row">
						<!-- Comments -->
						<div class="col-md-3">
							<label for="comments" class="field">Comments:</label>
						</div>
						<div class="col-md-9">
							<input type="text" class="form-control" name="comments" id="comments">
						</div>
					</div><br>
					<!-- entry id -->
					<!-- <label for="entry_id">entry id:</label> -->
					<div class="row">
						<!-- SUBMIT -->
						<div class="col-md-4"></div>
						<div class="col-md-4">
							<input style="display: none;" type="text" name="method" value="update">
							<input type="text" name="entry_id" value="{{entry.id}}" style="display: none">
							<input type="submit" label="Submit" class="btn btn-primary" onclick="
								if (document.getElementById('track_select').value.toLowerCase() != 'other') {
									document.getElementById('track').value = document.getElementById('track_select').value;
								}
								if (document.getElementById('tire_select').value.toLowerCase() != 'other') {
									document.getElementById('tires').value = document.getElementById('tire_select').value;
								}
								if (document.getElementById('engine_select').value.toLowerCase() != 'other') {
									document.getElementById('engine').value = document.getElementById('engine_select').value;
								}
								document.getElementById('location').value = document.getElementById('location_select').value;
							">
						</div>
						<div class="col-md-4"></div>
					</div><br>
					<input class="form-control" id="entry_id" type="text" name="entry_id" hidden="true"
						value={{entry.id}}>
				</form>
			</div>
			<div class="col-md-3"></div>
			</div>
		</div>
	</div>
	<script type="text/javascript">
		function CheckLocations(val) {
			var element = document.getElementById('location');
			if (val == 'Pick a Location' || val == 'other')
				element.style.display = 'block';
			else
				element.style.display = 'none';
		}
		function CheckTracks(val) {
			var element = document.getElementById('track');
			if (val == 'Pick a Track' || val == 'other')
				element.style.display = 'block';
			else
				element.style.display = 'none';
		}
		function CheckTires(val) {
			var element = document.getElementById('tires');
			if (val == 'Pick a Tire' || val == 'other')
				element.style.display = 'block';
			else
				element.style.display = 'none';
		}
		function CheckEngine(val) {
			var element = document.getElementById('engine');
			if (val == 'Pick an Engine' || val == 'other')
				element.style.display = 'block';
			else
				element.style.display = 'none';
		}
	</script>
</body>

</html>